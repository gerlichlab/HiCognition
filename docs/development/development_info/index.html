<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.64.0" />
    <meta name="description" content="">


    <link rel="icon" href="https://gerlichlab.github.io/hicognition/docs/images/favicon.png" type="image/png">

    <title>App architecture :: HiCognition</title>

    
    <link href="https://gerlichlab.github.io/hicognition/docs/css/nucleus.css?1645797153" rel="stylesheet">
    <link href="https://gerlichlab.github.io/hicognition/docs/css/fontawesome-all.min.css?1645797153" rel="stylesheet">
    <link href="https://gerlichlab.github.io/hicognition/docs/css/hybrid.css?1645797153" rel="stylesheet">
    <link href="https://gerlichlab.github.io/hicognition/docs/css/featherlight.min.css?1645797153" rel="stylesheet">
    <link href="https://gerlichlab.github.io/hicognition/docs/css/perfect-scrollbar.min.css?1645797153" rel="stylesheet">
    <link href="https://gerlichlab.github.io/hicognition/docs/css/auto-complete.css?1645797153" rel="stylesheet">
    <link href="https://gerlichlab.github.io/hicognition/docs/css/atom-one-dark-reasonable.css?1645797153" rel="stylesheet">
    <link href="https://gerlichlab.github.io/hicognition/docs/css/theme.css?1645797153" rel="stylesheet">
    <link href="https://gerlichlab.github.io/hicognition/docs/css/tabs.css?1645797153" rel="stylesheet">
    <link href="https://gerlichlab.github.io/hicognition/docs/css/hugo-theme.css?1645797153" rel="stylesheet">
    
    <link href="https://gerlichlab.github.io/hicognition/docs/css/theme-mine.css?1645797153" rel="stylesheet">
    
    <link href="https://gerlichlab.github.io/hicognition/docs/css/custom.css?1645797153" rel="stylesheet">

    <script src="https://gerlichlab.github.io/hicognition/docs/js/jquery-3.3.1.min.js?1645797153"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="/development/development_info/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <html>
    
    <svg
        id="Layer_1"
        data-name="Layer 1"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 384.38 92.84"
    >
    <a href="https://gerlichlab.github.io/hicognition/docs/">
        <rect width="100%" height="100%" opacity="0"></rect>
        <path
            d="M13,69.69V24.34A3.26,3.26,0,0,1,13.94,22a2.89,2.89,0,0,1,2.2-1,2.93,2.93,0,0,1,2.19,1,3.23,3.23,0,0,1,.93,2.31V43.67h19V24.34A3.26,3.26,0,0,1,39.17,22a3,3,0,0,1,4.42,0,3.41,3.41,0,0,1,.91,2.39V69.69a3.21,3.21,0,0,1-1,2.3,3,3,0,0,1-4.4,0,3.28,3.28,0,0,1-.89-2.32V50.24H19.34V69.69a3.21,3.21,0,0,1-.95,2.3,3,3,0,0,1-2.25,1A3,3,0,0,1,14,72,3.22,3.22,0,0,1,13,69.69Z"
            transform="translate(-12.28 -17.42)"
            style="
                fill: #254e69;
                stroke: #f1f2f2;
                stroke-miterlimit: 10;
                stroke-width: 1.5px;
            "
        />
        <path
            d="M74.44,72.89h-19a2.92,2.92,0,0,1-2.21-1,3.21,3.21,0,0,1-.91-2.32,3.25,3.25,0,0,1,.91-2.3,2.9,2.9,0,0,1,2.21-1h6.38V41.84H55.51a2.92,2.92,0,0,1-2.21-1,3.29,3.29,0,0,1-.91-2.3,3.43,3.43,0,0,1,.91-2.37,2.89,2.89,0,0,1,2.21-1H65a2.89,2.89,0,0,1,2.21,1,3.43,3.43,0,0,1,.91,2.37V66.33h6.23a3,3,0,0,1,2.25,1,3.35,3.35,0,0,1,0,4.64A2.91,2.91,0,0,1,74.44,72.89ZM61.74,18.17H65a2.92,2.92,0,0,1,2.21.95,3.3,3.3,0,0,1,.91,2.33v2.81a3.4,3.4,0,0,1-.91,2.36,2.87,2.87,0,0,1-2.21,1H61.67a2.91,2.91,0,0,1-2.25-1,3.19,3.19,0,0,1-.87-2.26l.08-2.89a3.25,3.25,0,0,1,.91-2.33A2.9,2.9,0,0,1,61.74,18.17Z"
            transform="translate(-12.28 -17.42)"
            style="
                fill: #254e69;
                stroke: #f1f2f2;
                stroke-miterlimit: 10;
                stroke-width: 1.5px;
            "
        />
        <path
            d="M92.77,88.88H104a3,3,0,0,1,2.25,1,3.32,3.32,0,0,1,0,4.65,3,3,0,0,1-2.25,1H92.37a10.11,10.11,0,0,1-7.9-4.81L77.27,76a15.32,15.32,0,0,1-1.45-6.48,14,14,0,0,1,1.37-6.37l7.28-14.49a10,10,0,0,1,3.23-3.57,7.39,7.39,0,0,1,4.23-1.55h12.32a2.93,2.93,0,0,1,2.21,1,3.29,3.29,0,0,1,.9,2.31,3.41,3.41,0,0,1-.9,2.36,2.91,2.91,0,0,1-2.21,1H92.38A2.78,2.78,0,0,0,90,52L83.05,65.59a8.31,8.31,0,0,0-.81,3.79,8.81,8.81,0,0,0,.89,4.07l6.6,13.36A3.14,3.14,0,0,0,92.77,88.88Z"
            transform="translate(-12.28 -17.42)"
            style="
                fill: #254e69;
                stroke: #f1f2f2;
                stroke-miterlimit: 10;
                stroke-width: 1.5px;
            "
        />
        <path
            d="M143.17,69.58V83.45q0,4.41-3.95,8.16c-2.64,2.5-5.35,3.75-8.15,3.75h-7.31q-4.28,0-8.16-3.81t-3.9-8.1V69.58q0-4.31,3.8-8.11a11.53,11.53,0,0,1,8.26-3.81h7.31c2.8,0,5.51,1.18,8.15,3.68S143.17,66.58,143.17,69.58ZM118,69.85V83.13A3.58,3.58,0,0,0,119.23,86l2.34,2.11a3.15,3.15,0,0,0,2.19.71H131a4.18,4.18,0,0,0,2.89-1.21l1.89-1.76a3.19,3.19,0,0,0,1.15-2.62V69.93A3.5,3.5,0,0,0,135.78,67l-2.19-1.84a3.79,3.79,0,0,0-2.59-1h-6.46a4.69,4.69,0,0,0-3.27,1l-2.11,1.92A3.35,3.35,0,0,0,118,69.85Z"
            transform="translate(-12.28 -17.42)"
            style="
                fill: #254e69;
                stroke: #f1f2f2;
                stroke-miterlimit: 10;
                stroke-width: 1.5px;
            "
        />
        <path
            d="M167.47,109.5H154a3,3,0,0,1-2.21-.94,3.43,3.43,0,0,1,0-4.65A3,3,0,0,1,154,103h13.51a3.4,3.4,0,0,0,2.3-1l2.11-1.91A2.77,2.77,0,0,0,173,97.82v-10q-4.38,4.65-8.54,4.65h-4.78a9.67,9.67,0,0,1-6.68-2.7l-2.34-2.18a8.24,8.24,0,0,1-2-3,9.8,9.8,0,0,1-.83-3.83V69.93a11.67,11.67,0,0,1,.83-4.37,8.13,8.13,0,0,1,2-3.09l2.56-2.31a9.31,9.31,0,0,1,6.46-2.5h4.49a9.73,9.73,0,0,1,6.68,2.74L173,62.31,172.89,61a3.22,3.22,0,0,1,.92-2.3,2.94,2.94,0,0,1,2.19-1,3,3,0,0,1,2.25,1,3.18,3.18,0,0,1,.94,2.32v36.8A9.41,9.41,0,0,1,176,105l-2.52,2.3a8.28,8.28,0,0,1-2.73,1.57A9.38,9.38,0,0,1,167.47,109.5Zm-3.56-45.27h-4.2a3.89,3.89,0,0,0-2.63,1.13L155.15,67A3.37,3.37,0,0,0,154,69.7V80.63a3.43,3.43,0,0,0,1.23,2.5l2,1.92a3,3,0,0,0,2,.86h5.08a3.85,3.85,0,0,0,2.45-1.18l4.94-4.41A3.35,3.35,0,0,0,173,77.74v-5a3.7,3.7,0,0,0-1.3-2.93l-5.08-4.57A3.68,3.68,0,0,0,163.91,64.23Z"
            transform="translate(-12.28 -17.42)"
            style="
                fill: #254e69;
                stroke: #f1f2f2;
                stroke-miterlimit: 10;
                stroke-width: 1.5px;
            "
        />
        <path
            d="M198.72,65.36l-8.51,5.82v21a3.23,3.23,0,0,1-.93,2.3,2.94,2.94,0,0,1-4.38,0,3.23,3.23,0,0,1-.93-2.3V61a3.4,3.4,0,0,1,.91-2.36,2.92,2.92,0,0,1,4.4,0,3.33,3.33,0,0,1,.93,2.36v2.19l5.69-3.63a11.33,11.33,0,0,1,6.46-1.92h2.9a8.7,8.7,0,0,1,6.43,2.78,10,10,0,0,1,2.86,6.83l.86,24.89a3.12,3.12,0,0,1-.9,2.3,3,3,0,0,1-2.22,1,3,3,0,0,1-2.15-.88,3.3,3.3,0,0,1-1-2.4l-.93-24.5q-.11-3.43-3.42-3.43h-3A5.42,5.42,0,0,0,198.72,65.36Z"
            transform="translate(-12.28 -17.42)"
            style="
                fill: #254e69;
                stroke: #f1f2f2;
                stroke-miterlimit: 10;
                stroke-width: 1.5px;
            "
        />
        <path
            d="M245.23,95.36h-19a2.91,2.91,0,0,1-2.2-1,3.21,3.21,0,0,1-.91-2.32,3.27,3.27,0,0,1,.91-2.31,2.89,2.89,0,0,1,2.2-1h6.39V64.31h-6.31a2.92,2.92,0,0,1-2.21-1,3.26,3.26,0,0,1-.91-2.31,3.36,3.36,0,0,1,.91-2.36,2.9,2.9,0,0,1,2.21-1h9.5a2.92,2.92,0,0,1,2.21,1,3.4,3.4,0,0,1,.91,2.36V88.8h6.23a3.09,3.09,0,0,1,2.25,1,3.36,3.36,0,0,1,0,4.65A2.94,2.94,0,0,1,245.23,95.36ZM232.54,40.63h3.27a3,3,0,0,1,2.21,1,3.27,3.27,0,0,1,.91,2.32v2.82a3.4,3.4,0,0,1-.91,2.36,2.92,2.92,0,0,1-2.21,1h-3.34a2.91,2.91,0,0,1-2.25-1,3.21,3.21,0,0,1-.87-2.26l.08-2.9a3.26,3.26,0,0,1,.9-2.32A3,3,0,0,1,232.54,40.63Z"
            transform="translate(-12.28 -17.42)"
            style="
                fill: #254e69;
                stroke: #f1f2f2;
                stroke-miterlimit: 10;
                stroke-width: 1.5px;
            "
        />
        <path
            d="M278.07,95.44h-6.24a8.9,8.9,0,0,1-6.64-2.89,9.7,9.7,0,0,1-2.78-7V64.31h-3.19a3,3,0,0,1-2.21-.94,3.45,3.45,0,0,1,0-4.67,2.93,2.93,0,0,1,2.21-1h3.26v-8a3.28,3.28,0,0,1,.91-2.33,3,3,0,0,1,4.38,0,3.21,3.21,0,0,1,1,2.31v8h12.54a2.94,2.94,0,0,1,2.19,1,3.35,3.35,0,0,1,0,4.63,3,3,0,0,1-2.19,1H268.64V85.59a3.21,3.21,0,0,0,.95,2.31,3,3,0,0,0,2.24,1h6.09q2.49,0,3.3-2.84c.55-1.88,1.6-2.83,3.16-2.83a2.89,2.89,0,0,1,2.24,1,3.44,3.44,0,0,1,.87,2.4,8.91,8.91,0,0,1-2.65,5.92A8.68,8.68,0,0,1,278.07,95.44Z"
            transform="translate(-12.28 -17.42)"
            style="
                fill: #254e69;
                stroke: #f1f2f2;
                stroke-miterlimit: 10;
                stroke-width: 1.5px;
            "
        />
        <path
            d="M317.44,95.36h-19a2.92,2.92,0,0,1-2.21-1,3.21,3.21,0,0,1-.91-2.32,3.27,3.27,0,0,1,.91-2.31,2.89,2.89,0,0,1,2.21-1h6.38V64.31h-6.31a2.92,2.92,0,0,1-2.21-1,3.3,3.3,0,0,1-.91-2.31,3.4,3.4,0,0,1,.91-2.36,2.9,2.9,0,0,1,2.21-1H308a2.92,2.92,0,0,1,2.21,1,3.4,3.4,0,0,1,.91,2.36V88.8h6.23a3.08,3.08,0,0,1,2.25,1,3.36,3.36,0,0,1,0,4.65A2.91,2.91,0,0,1,317.44,95.36Zm-12.7-54.73H308a3,3,0,0,1,2.21,1,3.27,3.27,0,0,1,.91,2.32v2.82a3.4,3.4,0,0,1-.91,2.36,2.92,2.92,0,0,1-2.21,1h-3.34a2.91,2.91,0,0,1-2.25-1,3.21,3.21,0,0,1-.87-2.26l.08-2.9a3.23,3.23,0,0,1,.91-2.32A2.91,2.91,0,0,1,304.74,40.63Z"
            transform="translate(-12.28 -17.42)"
            style="
                fill: #254e69;
                stroke: #f1f2f2;
                stroke-miterlimit: 10;
                stroke-width: 1.5px;
            "
        />
        <path
            d="M359.77,69.58V83.45q0,4.41-3.95,8.16c-2.64,2.5-5.35,3.75-8.15,3.75h-7.31q-4.26,0-8.16-3.81t-3.9-8.1V69.58q0-4.31,3.81-8.11a11.49,11.49,0,0,1,8.25-3.81h7.31c2.8,0,5.51,1.18,8.15,3.68S359.77,66.58,359.77,69.58Zm-25.16.27V83.13A3.58,3.58,0,0,0,335.83,86l2.34,2.11a3.15,3.15,0,0,0,2.19.71h7.24a4.16,4.16,0,0,0,2.89-1.21l1.9-1.76a3.22,3.22,0,0,0,1.15-2.62V69.93A3.53,3.53,0,0,0,352.39,67L350.2,65.2a3.83,3.83,0,0,0-2.6-1h-6.46a4.65,4.65,0,0,0-3.26,1l-2.12,1.92A3.35,3.35,0,0,0,334.61,69.85Z"
            transform="translate(-12.28 -17.42)"
            style="
                fill: #254e69;
                stroke: #f1f2f2;
                stroke-miterlimit: 10;
                stroke-width: 1.5px;
            "
        />
        <path
            d="M379.23,65.36l-8.52,5.82v21a3.23,3.23,0,0,1-.93,2.3,2.94,2.94,0,0,1-4.38,0,3.22,3.22,0,0,1-.92-2.3V61a3.36,3.36,0,0,1,.91-2.36,2.88,2.88,0,0,1,2.2-1,2.92,2.92,0,0,1,2.19,1,3.33,3.33,0,0,1,.93,2.36v2.19l5.69-3.63a11.34,11.34,0,0,1,6.47-1.92h2.89a8.7,8.7,0,0,1,6.43,2.78,10,10,0,0,1,2.86,6.83l.86,24.89a3.11,3.11,0,0,1-.89,2.3,3,3,0,0,1-2.23,1,3,3,0,0,1-2.15-.88,3.3,3.3,0,0,1-1-2.4l-.92-24.5q-.12-3.43-3.43-3.43h-3A5.39,5.39,0,0,0,379.23,65.36Z"
            transform="translate(-12.28 -17.42)"
            style="
                fill: #254e69;
                stroke: #f1f2f2;
                stroke-miterlimit: 10;
                stroke-width: 1.5px;
            "
        />
        </a>
    </svg>
</html>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="https://gerlichlab.github.io/hicognition/docs/js/lunr.min.js?1645797153"></script>
<script type="text/javascript" src="https://gerlichlab.github.io/hicognition/docs/js/auto-complete.js?1645797153"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/gerlichlab.github.io\/hicognition\/docs\/";
    
</script>
<script type="text/javascript" src="https://gerlichlab.github.io/hicognition/docs/js/search.js?1645797153"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/getting_started/" title="Getting started" class="dd-item
        
        
        
        ">
      <a href="https://gerlichlab.github.io/hicognition/docs/getting_started/">
          <b>1. </b>Getting started
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/getting_started/get_started_w_example_data/" title="Quick start with example data" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/getting_started/get_started_w_example_data/">
        Quick start with example data
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/concepts/" title="Concepts" class="dd-item
        
        
        
        ">
      <a href="https://gerlichlab.github.io/hicognition/docs/concepts/">
          <b>2. </b>Concepts
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/concepts/background/" title="Background" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/concepts/background/">
        Background
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/concepts/region_set_focus/" title="Region-set focus approach" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/concepts/region_set_focus/">
        Region-set focus approach
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/concepts/hicognition/" title="Implementation" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/concepts/hicognition/">
        Implementation
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/installation/" title="Installation" class="dd-item
        
        
        
        ">
      <a href="https://gerlichlab.github.io/hicognition/docs/installation/">
          <b>3. </b>Installation
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/installation/requirements/" title="Requirements" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/installation/requirements/">
        Requirements
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/installation/build/" title="Build" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/installation/build/">
        Build
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/installation/configuration/" title="Configuration" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/installation/configuration/">
        Configuration
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/installation/updating/" title="Updating" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/installation/updating/">
        Updating
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/data_management/" title="Data management" class="dd-item
        
        
        
        ">
      <a href="https://gerlichlab.github.io/hicognition/docs/data_management/">
          <b>4. </b>Data management
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/data_management/regions/" title="Regions" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/data_management/regions/">
        Regions
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/data_management/features/" title="Features" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/data_management/features/">
        Features
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/data_management/collections/" title="Collections" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/data_management/collections/">
        Collections
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/data_management/genome_assemblies/" title="Genome assemblies" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/data_management/genome_assemblies/">
        Genome assemblies
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/preprocessing/" title="Preprocessing" class="dd-item
        
        
        
        ">
      <a href="https://gerlichlab.github.io/hicognition/docs/preprocessing/">
          <b>5. </b>Preprocessing
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/preprocessing/job_types/" title="Preprocessing tasks" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/preprocessing/job_types/">
        Preprocessing tasks
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/preprocessing/manage_preprocessing/" title="Manage preprocessing" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/preprocessing/manage_preprocessing/">
        Manage preprocessing
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/widgets/" title="Widgets" class="dd-item
        
        
        
        ">
      <a href="https://gerlichlab.github.io/hicognition/docs/widgets/">
          <b>6. </b>Widgets
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/widgets/widget_controls/" title="Widget controls" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/widgets/widget_controls/">
        Widget controls
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/widgets/lineprofile/" title="1D-average" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/widgets/lineprofile/">
        1D-average
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/widgets/2d_average/" title="2D-average" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/widgets/2d_average/">
        2D-average
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/widgets/stackup/" title="Stacked lineprofiles" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/widgets/stackup/">
        Stacked lineprofiles
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/widgets/1d_feature_embedding/" title="1D-feature embedding" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/widgets/1d_feature_embedding/">
        1D-feature embedding
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/widgets/2d_feature_embedding/" title="2D-feature embedding" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/widgets/2d_feature_embedding/">
        2D-feature embedding
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/widgets/association/" title="Association" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/widgets/association/">
        Association
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/sessions/" title="Data sharing" class="dd-item
        
        
        
        ">
      <a href="https://gerlichlab.github.io/hicognition/docs/sessions/">
          <b>7. </b>Data sharing
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/sessions/session/" title="Session" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/sessions/session/">
        Session
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/development/" title="Development" class="dd-item
        parent
        
        
        ">
      <a href="https://gerlichlab.github.io/hicognition/docs/development/">
          <b>8. </b>Development
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/development/development_info/" title="App architecture" class="dd-item active">
        <a href="https://gerlichlab.github.io/hicognition/docs/development/development_info/">
        App architecture
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/development/dev_env/" title="Development environment" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/development/dev_env/">
        Development environment
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/development/tests/" title="Tests" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/development/tests/">
        Tests
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/development/cont_guide/" title="Contribution guide" class="dd-item ">
        <a href="https://gerlichlab.github.io/hicognition/docs/development/cont_guide/">
        Contribution guide
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://github.com/gerlichlab/HiCognition"><i class='fab fa-github'></i> Github repo</a>
              </li>
          
              <li>
                  <a class="padding" href="https://gerlichlab.github.io/tags"><i class='fas fa-tags'></i> Tags</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='https://gerlichlab.github.io/hicognition/docs/'></a> > <a href='https://gerlichlab.github.io/hicognition/docs/development/'>Development</a> > App architecture
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#back-end">Back-end</a>
      <ul>
        <li><a href="#docker-network">Docker network</a></li>
        <li><a href="#flask-server">Flask-server</a></li>
        <li><a href="#database">Database</a></li>
        <li><a href="#queue">Queue</a></li>
      </ul>
    </li>
    <li><a href="#front-end">Front-end</a>
      <ul>
        <li><a href="#build">Build</a></li>
        <li><a href="#development-server">Development server</a></li>
        <li><a href="#vue-set-up">Vue set-up</a></li>
        <li><a href="#vue-router">Vue-router</a></li>
        <li><a href="#vuex-store">Vuex-Store</a></li>
        <li><a href="#interaction-with-back-end">Interaction with back-end</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
<div class="tags">

  <a class="tag-link" href="https://gerlichlab.github.io/hicognition/docs/tags/development">development</a>

  <a class="tag-link" href="https://gerlichlab.github.io/hicognition/docs/tags/architecture">architecture</a>

</div>

        </div>
        
        <div id="body-inner">
          
            <h1>
              
              App architecture
            </h1>
          

        


<p>This document contains a description of the architecture of HiCognition, which can be summarized in the following scheme:</p>
<p><img src="https://gerlichlab.github.io/hicognition/docs/Architecture_v1-01.png" alt="Architecture"></p>
<h2 id="back-end">Back-end</h2>
<h3 id="docker-network">Docker network</h3>
<p>All the docker containers that work together in the back-end are coordinated by docker-compose (see <a href="https://github.com/gerlichlab/HiCognition_flask/blob/master/docker-compose.yml">docker-compose file</a>) and reside within a docker-network called <code>hicognition-net</code>, to facilitate networking between them. The docker containers that are used are the following:</p>
<ul>
<li><code>hicognition</code> - Container that harbors the flask-server</li>
<li><code>mysql</code> - contains Mysql database</li>
<li><code>nginx</code> - contains nginx reverse-proxy</li>
<li><code>redis-server</code> - contains the redis-server</li>
<li><code>redis-worker</code> - redis-worker container</li>
</ul>
<p>Additionally, there is a transient container used:</p>
<ul>
<li><code>node</code> - Node container that is started to build the front-end files</li>
</ul>
<h3 id="flask-server">Flask-server</h3>
<p>The core of our back-end is a flask-server that runs in a custom docker container and manages the authorization of users and exchange of data with the Vue.js front-end. This flask-server is a pure REST-API, meaning that it is mostly state-less with regards to the user requests and serves data in JSON format. The API-routes are implemented using the <a href="https://flask.palletsprojects.com/en/1.1.x/blueprints/">blueprint-pattern</a> to allow modularization and easy extension in the future.</p>
<p>The User-authorization is done either by sending the user credentials (username and password) or via a token that can be obtained from the <code>/tokens/</code> route. The token is generated using <code>itsdangerous.TimedJSONWebSignatureSerializer</code> and is currently valid for 1h. The <code>/tokens/</code> route only accepts username/password authorization to prevent malicious actors from obtaining new tokens with an old token indefinitely.</p>
<p>Different configurations of the server are collected in a <code>config.py</code> file that defines classes that carry the configuration options as class variables. These different classes are used in the <code>create_app</code> app-factory function to register the relevant config settings via <code>app.config.from_object()</code>. The relevant config class can be specified via the env-variable <code>FLASK_CONFIG</code>. The different classes are:</p>
<ul>
<li><code>DevelopmentConfig</code> - This configuration class is used in the development and specifies that flask should be started in development mode.</li>
<li><code>TestingConfig</code> - This configuration class is used during testing and creates a sqlite database in memory.</li>
<li><code>ProductionConfig</code> - This configuration class is used in production and specifies that the database should be created in the app directory resides in a file.</li>
<li><code>End2EndConfig</code> - This configuration class specifies the configurations for end2end integration testing</li>
</ul>
<p>The general policy is to provide default values for development but get the values from environment variables in production. This is achieved by using the following pattern for each config-variable: <code>Config = os.environ.get(&quot;ENV_VAR&quot;) or default</code>. For a detailed description of the configuration variables see the <a href="https://gerlichlab.github.io/hicognition/docs/installation/configuration">configuration section</a>.</p>
<h3 id="database">Database</h3>
<p>The flask-server and the Redis-queue worker use a common database to record and change information about users and datasets. We use <a href="https://www.sqlalchemy.org/">SQLAlchemy</a> as an Object-relational-mapper (ORM) to abstract details of the underlying database. This allows, in principle, to quickly change database back-ends and allows interaction with the database via python classes and functions. Currently, we use MySQL to store meta-information about datasets (file-path, name, etc.) and users directly in the database, and large data (images, raw-files, processed-files, etc.) is stored on the filesystem.</p>
<p>Database migrations are managed using <a href="https://flask-migrate.readthedocs.io/en/latest/">FLASK-Migrate</a> that is a wrapper for <a href="https://alembic.sqlalchemy.org/en/latest/">alembic</a>, a database migration tool for SQLAlchemy. Using this set-up, database migrations are scheduled using:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">flask db migrate -m $MESSAGE
</code></pre></div><p>This creates a migration script in the <code>./migrations</code> sub-folder. This migration can then be applied using <code>flask db upgrade</code>. The <code>./migrations</code> directory is committed to version control and records the migration history of our database. The development workflow is to define database models in a <code>models.py</code> file and commit a migration to version control. Then, on the production server, the newest changes - including the migration script - are pulled, and the database migrated to the newest version using <code>flask db upgrade</code>.</p>
<p>Interactions with the database are managed by <a href="https://flask-sqlalchemy.palletsprojects.com/en/2.x/">FLASK-SQLAlchemy</a>, which uses a <code>ScopedSession</code> object as <code>db</code> throughout the app, that ensures thread-safety of database interactions.</p>
<h4 id="database-model">Database model</h4>
<p>Details are <a href="https://github.com/gerlichlab/HiCognition_flask/blob/master/app/models.py">here</a>, this is an overview drawn using <a href="https://dbdiagram.io/home:">https://dbdiagram.io/home:</a></p>
<p><img src="https://gerlichlab.github.io/hicognition/docs/Hicognition_db.png" alt="DB-model"></p>
<h4 id="filesystem-interactions">Filesystem interactions</h4>
<p>The flask-server and the Redis-worker need access to a shared filesystem since all raw and processed datasets are stored as files, with their filenames being recorded in the database.</p>
<h3 id="queue">Queue</h3>
<p>Resource heavy and long tasks are offloaded to a <a href="https://python-rq.org/">redis-queue</a> that consists of a Redis-server and one or more Redis-workers. The Redis-server accepts task items and manages to distribute them to the Redis-workers. The Redis-server runs in a docker container that is derived from <code>redis:6-alpine</code> with a custom config-file. The Redis-workers use the same docker-container as the flask-server as they need access to most modules the server needs.</p>
<p>All tasks that the queue can run are defined in <a href="https://github.com/gerlichlab/HiCognition_flask/blob/master/back_end/app/tasks.py">tasks.py</a>.</p>
<p>Tasks are launched using an instance-method of <code>User</code> called <code>User.launch_task</code> that accepts the name of the task, a short description as well as the dataset_id of the dataset being processed. This method enqueues the job and adds the <code>Task</code> table entry to the current database session.</p>
<p>There are three different queues:</p>
<ul>
<li>short</li>
<li>medium</li>
<li>long</li>
</ul>
<p>The tasks are distributed to these queues based on the <code>PIPELINE_QUEUES</code> configuration parameter (see the <a href="https://gerlichlab.github.io/hicognition/docs/installation/configuration">configuration section</a> for more details)</p>
<h2 id="front-end">Front-end</h2>
<p>We use vue.js in the front-end to manage routing, interactivity and fetching data from the back-end. Here, we employ a template-based design, where each vue-component resides in its own <code>.vue</code> file that is included in the distribution built by <code>webpack</code>.</p>
<h3 id="build">Build</h3>
<p>Front-end files (<code>index.html</code>, <code>app.js</code>, <code>vendor.js</code>, <code>app.css</code>, <code>manifest.js</code>) are built using <a href="https://webpack.js.org/">webpack</a> with configs set in <code>frontend/build/build.js</code> and <code>frontend/build/webpack.prod.conf.js</code> and <code>frontend/build/webpack.dev.conf.js</code> (these both use <code>frontend/build/webpack.base.conf.js</code>).</p>
<p>Babel is first used to transpile js-files to support all browsers with &gt; 1% market share and support the last 2 versions (config settings <code>&quot;browsers&quot;: [&quot;&gt; 1%&quot;, &quot;last 2 versions&quot;, &quot;not ie &lt;= 8&quot;]</code>). Then, js-files are minified and both js- and css-files are included in the generated <code>index.html</code> file and copied to the <code>./dist</code> directory.</p>
<p>Environment variables for development and production are defined using <code>frontend/config/dev.env.js</code> and <code>frontend/config/prod.env.js</code>, respectively. Variables are:</p>
<ul>
<li><code>API_URL</code> - The URL of the flask-API</li>
<li><code>STATIC_URL</code> - The URL of the static directory.</li>
<li><code>VERSION</code> - The Version of HiCognition</li>
<li><code>NOTIFICATION_URL</code> - The URL of the notification stream</li>
</ul>
<p>These variables are accessed in js-files using <code>process.env.VARIABLE</code> and resolved by webpack during the build.</p>
<p>Modules for build are imported using the &ldquo;import&rdquo;-syntax rather than the &ldquo;require&rdquo;-syntax (more <a href="https://insights.untapt.com/webpack-import-require-and-you-3fd7f5ea93c0">info</a>). This allows webpack to only bundle the actually used parts of a module, making the bundle smaller.</p>
<h3 id="development-server">Development server</h3>
<p>A webpack development server is started using <code>webpack-dev-server --inline --progress --config build/webpack.dev.conf.js --host 0.0.0.0</code> with the alias <code>npm run dev</code>. This enables hot-reload, real-time linting and the usage of front-end debugging using the <a href="https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd?hl=en">vue-development chrome extension</a>.</p>
<h3 id="vue-set-up">Vue set-up</h3>
<p>Vue is used to create a single-page application (SPA) in the front end. This requires the usage of several extensions that serve different parts of the app:</p>
<ul>
<li><a href="https://router.vuejs.org/">vue-router</a> - This manages front-end routing and enables route-nesting and routing of subsets of the current view</li>
<li><a href="https://vuex.vuejs.org/">vuex</a> - Since a vue.js app often consists of multiple components and multiple routes, it is frequently necessary to share data between these parts. Vuex serves the purpose of a front-end database that allows sharing of data.</li>
<li><a href="https://vuematerial.io/">vuematerial</a> - Collection of components that facilitate development by encapsulating high-level user interfaces such as cards, buttons, etc.</li>
</ul>
<h3 id="vue-router">Vue-router</h3>
<p>The specifics of the router are defined in <code>frontend/src/router.js</code>. In general, there are two main views called <code>/login</code> and <code>/main</code>. <code>/login</code> defines the loginRoute component that has a different toolbar to the <code>/main</code> view components. <code>/main</code> is where the app resides, and it contains one sub-route: <code>/main/compare</code>.</p>
<p>The <code>/login</code> route defines a form that sends the user credentials to the <code>/api/token/</code> back-end route to obtain a token that is valid for 24 h.</p>
<p>All routes that are children of <code>/main</code> require authentication. Authentication is checked by verifying that a token resides in the main <code>vuex</code> store. If no token is found, the user is redirected to <code>/login</code>.</p>

<div class="notices note" ><p>Note that this routing step does not check the validity of the token. Validity is only checked when data is retrieved from the back-end.</p>
</div>

<h3 id="vuex-store">Vuex-Store</h3>
<p>Data that needs to be shared among multiple front-end components is stored in a vuex-store. This store is defined in <code>frontend/src/store.js</code>. There is a global store that stores data that needs to be accessible across the entire app (such as the authentication token and all available datasets). Additionally, there is a sub-store (called &ldquo;modules&rdquo; in vuex) for all data that needs to be shared among components in the <code>/main/compare</code> route. This has the advantage that local data such as dataset selections for a given view do not need to be stored in the global store, which avoids clumsy naming of variables.</p>
<h3 id="interaction-with-back-end">Interaction with back-end</h3>
<p>All interactions with the back-end are done via API calls that are dispatched by <a href="https://github.com/axios/axios">axios</a>. The <code>axios</code> instance is bound to <code>Vue.prototype.$http</code> so all <code>Vue</code> instances and components have access to the client without import.</p>
<p>The API-calls are defined as a mixin in <code>frontend/src/mixins.js</code> in <code>apiMixin</code>. All components that need interaction with the back-end receive the <code>apiMixin</code>. The <code>apimixin</code> has a convenience method for fetching and storing the authentication token called <code>.fetchAndStoreToken</code> and two more generic methods that allow to dispatch, get and post requests, <code>.fetchData</code> and <code>.postData</code>, respectively. These work by returning the promise the is returned by Axios-requests is there is no error in the call. The caller can then resolve the promise and receive the data. If there is an error, however, the user is redirected to the login page to get a new token.</p>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://gerlichlab.github.io/hicognition/docs/js/clipboard.min.js?1645797153"></script>
    <script src="https://gerlichlab.github.io/hicognition/docs/js/perfect-scrollbar.min.js?1645797153"></script>
    <script src="https://gerlichlab.github.io/hicognition/docs/js/perfect-scrollbar.jquery.min.js?1645797153"></script>
    <script src="https://gerlichlab.github.io/hicognition/docs/js/jquery.sticky.js?1645797153"></script>
    <script src="https://gerlichlab.github.io/hicognition/docs/js/featherlight.min.js?1645797153"></script>
    <script src="https://gerlichlab.github.io/hicognition/docs/js/highlight.pack.js?1645797153"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://gerlichlab.github.io/hicognition/docs/js/modernizr.custom-3.6.0.js?1645797153"></script>
    <script src="https://gerlichlab.github.io/hicognition/docs/js/learn.js?1645797153"></script>
    <script src="https://gerlichlab.github.io/hicognition/docs/js/hugo-learn.js?1645797153"></script>
    
        
            <script src="https://gerlichlab.github.io/hicognition/docs/mermaid/mermaid.js?1645797153"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

